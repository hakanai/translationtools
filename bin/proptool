#!/usr/bin/env ruby

require 'proptool/properties'
require 'proptool/merge_command'
require 'proptool/normalise_command'

def usage
  $stderr.puts(<<EOF)
usage: #{$0} merge [--source-encoding=<encoding>] <srcdir> <destdir>
       #{$0} normalise <dir>
EOF
end

if __FILE__ == $0
  if ARGV.size < 1
    usage
    exit 1
  end

  command = ARGV.shift
  case command
  when 'merge'
    PropTool::MergeCommand.new.run(*ARGV)
  when 'normalise', 'normalize'
    PropTool::NormaliseCommand.new.run(*ARGV)
  else
    usage
    exit 1
  end
end
